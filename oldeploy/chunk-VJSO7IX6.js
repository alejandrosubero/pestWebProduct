import{a as at,b as nt,c as rt,d as mt}from"./chunk-25CU2RGU.js";import{a as it,b as ot}from"./chunk-OQ4LHUAT.js";import"./chunk-DNTZIEOR.js";import"./chunk-FM7357LY.js";import"./chunk-X2UG4U34.js";import"./chunk-WCILX3E4.js";import"./chunk-U3M4AOSB.js";import"./chunk-HCK6XDZ4.js";import{a as j,c as q,d as z}from"./chunk-RJTXM5ZD.js";import"./chunk-5AZGDEH3.js";import{A as W,B as X,D as Y,E as Z,b as w,f as V,g as U,j as D,k as B,l as Q,m as G,r as L,s as H,t as R,u as J,x as K}from"./chunk-OZWR4GVN.js";import{ea as $,ka as tt,la as et}from"./chunk-C43LEC2K.js";import"./chunk-CARY4E7O.js";import{Ab as E,Bc as T,Db as f,Dc as O,Fb as I,Mb as v,Nb as o,Ob as _,Pb as N,Ua as r,Wb as x,Zb as k,_b as F,fb as C,ja as b,kb as y,mb as m,ra as d,sa as s,sb as S,tb as h,ub as g,va as M,vb as i,wb as e,wc as A,xb as l,xc as P}from"./chunk-XR6OUCGQ.js";function pt(a,c){if(a&1){let t=E();i(0,"button",22),f("click",function(){d(t);let n=I();return s(n.clearInput())}),i(1,"mat-icon"),o(2,"close"),e()()}}function ct(a,c){if(a&1&&(i(0,"mat-option",12),o(1),e()),a&2){let t=c.$implicit;m("value",t),r(),N(" ",t," ")}}function ut(a,c){if(a&1&&(i(0,"mat-option",12),o(1),e()),a&2){let t=c.$implicit;m("value",t),r(),_(t)}}function dt(a,c){if(a&1&&(i(0,"mat-option",12),o(1),e()),a&2){let t=c.$implicit;m("value",t),r(),_(t)}}var wt=(()=>{class a extends mt{ngOnInit(){this.setList(),this.product=this.store.findById(this.id),this.product!=null&&this.form.patchValue({name:this.product.name,type:this.product.type,description:this.product.description,safetyDataSheetUrl:this.product.safetyDataSheetUrl,initialQuantity:this.product.package.initialQuantity,unitOfMeasure:this.product.package.unitOfMeasure,status:this.product.package.status,locationName:this.product.package.location.locationName,locationArea:this.product.package.location.locationArea,locationSeccion:this.product.package.location.locationSeccion}),this.updateUnit(),this.controlFN(),this.form.get("name")?.valueChanges.subscribe(t=>{this.nameValue=t})}updateUnit(){this.form.get("type")?.valueChanges.subscribe(t=>{this.updateUnits(t)}),this.updateUnits(this.form.get("type")?.value)}update(){let t=this.form.value,p={id:this.product?.id,name:t.name,type:t.type,description:t.description,safetyDataSheetUrl:t.safetyDataSheetUrl,package:{id:this.product?.package.id,productId:this.product?.package.productId,locationId:t.locationId,initialQuantity:t.initialQuantity,currentQuantity:t.initialQuantity,unitOfMeasure:t.unitOfMeasure,status:t.status,location:{locationName:t.locationName,locationArea:t.locationArea,locationSeccion:t.locationSeccion}}};p!=null&&(this.store.update(p),this.goBack())}static{this.\u0275fac=(()=>{let t;return function(n){return(t||(t=M(a)))(n||a)}})()}static{this.\u0275cmp=b({type:a,selectors:[["app-edit-product"]],standalone:!0,features:[C,x],decls:62,vars:10,consts:[["auto","matAutocomplete"],["color","primary"],["mat-icon-button","","aria-label","Back",3,"click"],[1,"toolbar-title"],[1,"form-wrapper",3,"ngSubmit","formGroup"],["appearance","outline"],["type","text","matInput","",3,"formControlName","formGroup","matAutocomplete"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["autoActiveFirstOption",""],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",1,"full-width"],["formControlName","type"],[3,"value"],["matInput","","formControlName","description"],["matInput","","formControlName","safetyDataSheetUrl"],["matInput","","type","number","formControlName","initialQuantity"],["formControlName","unitOfMeasure"],["matInput","","formControlName","status"],["matInput","","formControlName","locationName"],["matInput","","formControlName","locationArea"],["matInput","","formControlName","locationSeccion"],["mat-raised-button","","color","primary","type","submit",1,"full-width"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"]],template:function(p,n){if(p&1){let u=E();i(0,"mat-toolbar",1)(1,"button",2),f("click",function(){return d(u),s(n.goBack())}),i(2,"mat-icon"),o(3,"arrow_back"),e()(),i(4,"span",3),o(5,"Add Product"),e()(),i(6,"form",4),f("ngSubmit",function(){return d(u),s(n.update())}),i(7,"mat-form-field",5)(8,"mat-label"),o(9,"Product Name"),e(),l(10,"input",6),y(11,pt,3,0,"button",7),i(12,"mat-autocomplete",8,0),y(14,ct,2,2,"mat-option",9),k(15,"async"),e()(),i(16,"mat-form-field",10)(17,"mat-label"),o(18,"Type/Physical State"),e(),i(19,"mat-select",11)(20,"mat-option",12),o(21,"None"),e(),h(22,ut,2,2,"mat-option",12,S),e()(),i(24,"mat-form-field",5)(25,"mat-label"),o(26,"Description"),e(),l(27,"input",13),e(),i(28,"mat-form-field",5)(29,"mat-label"),o(30,"Safety Data Sheet Url"),e(),l(31,"input",14),e(),i(32,"mat-form-field",5)(33,"mat-label"),o(34,"Initial Quantity"),e(),l(35,"input",15),e(),i(36,"mat-form-field",10)(37,"mat-label"),o(38,"Unit Of Measure"),e(),i(39,"mat-select",16)(40,"mat-option",12),o(41,"None"),e(),h(42,dt,2,2,"mat-option",12,S),e()(),i(44,"mat-form-field",5)(45,"mat-label"),o(46,"Package status"),e(),l(47,"input",17),e(),i(48,"mat-form-field",5)(49,"mat-label"),o(50,"Location Name"),e(),l(51,"input",18),e(),i(52,"mat-form-field",5)(53,"mat-label"),o(54,"Location Area"),e(),l(55,"input",19),e(),i(56,"mat-form-field",5)(57,"mat-label"),o(58," Location Section"),e(),l(59,"input",20),e(),i(60,"button",21),o(61," Save "),e()()}if(p&2){let u=v(13);r(6),m("formGroup",n.form),r(4),m("formControlName","name")("formGroup",n.form)("matAutocomplete",u),r(),m("ngIf",n.checkValue()),r(3),m("ngForOf",F(15,8,n.filteredOptions)),r(6),m("value",null),r(2),g(n.productTypes),r(18),m("value",null),r(2),g(n.units)}},dependencies:[O,A,P,T,L,D,w,B,V,U,Q,G,X,W,J,K,rt,at,$,nt,Z,Y,z,j,q,et,tt,ot,it,R,H],styles:[".form-wrapper[_ngcontent-%COMP%]{padding:1rem;display:flex;flex-direction:column;gap:1rem}.full-width[_ngcontent-%COMP%]{width:100%}"]})}}return a})();export{wt as EditProductComponent};
