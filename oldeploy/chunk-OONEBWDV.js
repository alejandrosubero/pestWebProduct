import{a as ot}from"./chunk-SUU2MO7V.js";import"./chunk-B2LAPOTJ.js";import{a as tt,c as et,f as nt}from"./chunk-EPDRRMG5.js";import{A as H,B as J,D as K,E as X,b as Q,f as B,i as V,q as A,s as z,t as W,u as U,w as $,x as G}from"./chunk-BTVDTH6N.js";import{i as N,ja as j,ka as q,la as R,na as Y,oa as Z,pa as at}from"./chunk-FFY7M2LJ.js";import"./chunk-CARY4E7O.js";import{Ab as P,Db as l,Dc as D,Fb as d,Nb as a,Ob as m,Pb as k,Qb as w,Sb as S,Tb as I,Ua as r,Ub as E,Wb as F,ea as u,f as h,ja as b,kb as M,mb as g,ra as _,rb as x,sa as C,tb as v,ub as O,vb as e,vc as L,wb as n,xb as y,xc as T}from"./chunk-VZZX6ACQ.js";var it=(o,s)=>s.id;function rt(o,s){if(o&1){let t=P();e(0,"button",11),l("click",function(){_(t);let i=d();return C(i.clearSearch())}),e(1,"mat-icon"),a(2,"close"),n()()}}function ct(o,s){o&1&&(e(0,"div"),a(1,"\u{1F504} Cargando productos..."),n())}function st(o,s){if(o&1&&(e(0,"div",8),a(1),n()),o&2){let t=d();r(),k("\u274C ",t.error,"")}}function lt(o,s){if(o&1){let t=P();e(0,"mat-card",14),l("click",function(){let i=_(t).$implicit,p=d(2);return C(p.onDetail(i.id))}),e(1,"mat-card-content")(2,"div",15)(3,"div",16),a(4),n(),e(5,"div",16),a(6),n(),e(7,"div",17),a(8),n(),e(9,"div",17),a(10),n(),e(11,"div",18)(12,"span",19),a(13),n(),e(14,"span",20),a(15),n()()(),e(16,"mat-icon",21),a(17,"chevron_right"),n()()()}if(o&2){let t=s.$implicit,c=d(2);r(4),m(t.name),r(2),m(t.id),r(2),w(" ",t.package.currentQuantity," / ",t.package.initialQuantity," "),r(2),m(t.package.unitOfMeasure),r(2),g("ngClass",c.getStatusClass(t.package.status)),r(),m(t.package.status),r(2),k("Location: ",t.package.location.locationArea,"")}}function dt(o,s){if(o&1&&(e(0,"div")(1,"div",12),v(2,lt,18,8,"mat-card",13,it),n()()),o&2){let t=d();r(2),O(t.products)}}var Tt=(()=>{class o{constructor(){this.router=u(N),this.navegateService=u(at),this.store=u(ot),this.searchQuery=""}ngOnInit(){}get products(){return this.store.filteredProducts()}get loading(){return this.store.loading()}get error(){return this.store.error()}applyFilter(){this.store.setFilter(this.searchQuery)}clearSearch(){this.searchQuery="",this.applyFilter()}deleteProduct(t){return h(this,null,function*(){confirm("\xBFEliminar este producto?")&&(yield this.store.delete(t))})}statusClass(t){return t.replace(/\s/g,"")}getStatusClass(t){switch(t){case"In Stock":return"status-in-stock";case"In Use":return"status-in-use";case"Empty":return"status-empty";default:return""}}onDetail(t){t!==void 0?this.navegateService.goToDetail("storage/products/detail",t,""):console.warn("Attempting to browse in detail with an undefined ID.")}onBackClick(){this.navegateService.goFavorites("storage",1)}onAddNew(){this.router.navigate(["/storage/products/add"])}static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275cmp=b({type:o,selectors:[["app-product-list"]],standalone:!0,features:[F],decls:21,vars:5,consts:[["color","primary",1,"mobile-toolbar"],["mat-icon-button","",3,"click"],[1,"spacer"],[1,"package-list-container"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Nombre, ubicaci\xF3n, estado...",3,"ngModelChange","input","ngModel"],["matPrefix",""],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"error"],[4,"ngIf"],["mat-fab","","color","primary","aria-label","Add New",1,"fab-button",3,"click"],["matSuffix","","mat-icon-button","",3,"click"],[1,"package-cards-wrapper"],[1,"package-card"],[1,"package-card",3,"click"],[1,"package-info"],[1,"product-name"],[1,"quantity"],[1,"status-location"],[1,"status-badge",3,"ngClass"],[1,"location"],[1,"arrow-icon"]],template:function(c,i){c&1&&(e(0,"mat-toolbar",0)(1,"button",1),l("click",function(){return i.onBackClick()}),e(2,"mat-icon"),a(3,"arrow_back"),n()(),e(4,"span"),a(5,"Inventory Packages"),n(),y(6,"span",2),n(),e(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),a(10,"Buscar producto"),n(),e(11,"input",5),E("ngModelChange",function(f){return I(i.searchQuery,f)||(i.searchQuery=f),f}),l("input",function(){return i.applyFilter()}),n(),e(12,"mat-icon",6),a(13,"search"),n(),M(14,rt,3,0,"button",7),n(),M(15,ct,2,0,"div")(16,st,2,1,"div",8)(17,dt,4,0,"div",9),n(),e(18,"button",10),l("click",function(){return i.onAddNew()}),e(19,"mat-icon"),a(20,"add"),n()()),c&2&&(r(11),S("ngModel",i.searchQuery),r(3),g("ngIf",i.searchQuery),r(),x(15,i.loading?15:-1),r(),x(16,i.error?16:-1),r(),g("ngIf",!i.loading&&!i.error))},dependencies:[D,L,T,W,z,Z,Y,R,q,j,X,K,H,U,$,G,J,nt,tt,et,A,Q,B,V],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f0f2f5;font-family:Inter,sans-serif;overflow:hidden}.app-header[_ngcontent-%COMP%]{height:56px;box-shadow:0 2px 4px #0000001a;z-index:10}.app-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.package-list-container[_ngcontent-%COMP%]{flex-grow:1;padding:16px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:flex;flex-direction:column;gap:16px}.search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px;border-radius:8px;background-color:#fff}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:8px}.package-cards-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.package-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 8px #0000001a;background-color:#fff;cursor:pointer;transition:transform .2s ease-in-out}.package-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.package-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]{flex-grow:1;margin-right:16px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;color:#333;margin-bottom:4px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{font-size:.9em;color:#555;margin-bottom:4px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.8em;color:#777}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:8px;font-weight:500;margin-right:8px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge.status-in-stock[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge.status-in-use[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge.status-empty[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#616161}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-weight:400}.package-card[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#ccc}.no-results-message[_ngcontent-%COMP%]{text-align:center;color:#777;font-style:italic;margin-top:20px}.error[_ngcontent-%COMP%]{color:red}.fab-button[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;box-shadow:0 4px 10px #0000004d;transition:transform .2s ease-in-out}.fab-button[_ngcontent-%COMP%]:active{transform:scale(.95)}"]})}}return o})();export{Tt as ProductListComponent};
