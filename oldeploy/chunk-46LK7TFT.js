import{a as nt}from"./chunk-DNTZIEOR.js";import{a as ot}from"./chunk-S77QBJBT.js";import{a as at}from"./chunk-Z462LVDH.js";import"./chunk-QVNXAATV.js";import"./chunk-HCK6XDZ4.js";import{d as tt}from"./chunk-DB5QDU4S.js";import{a as S,c as W,d as k}from"./chunk-RJTXM5ZD.js";import{c as et}from"./chunk-HQNA5BWE.js";import{a as F,b as T,c as I,e as Z,f as D}from"./chunk-6TLKWYRX.js";import"./chunk-5AZGDEH3.js";import{E as X,q as K,s as Q,t as y}from"./chunk-OZWR4GVN.js";import{c as J,i as O,ka as w,la as E,ma as it}from"./chunk-C43LEC2K.js";import"./chunk-CARY4E7O.js";import{Ab as A,Db as l,Dc as P,Fb as g,Nb as o,Ob as p,Pb as x,Rb as $,Ua as r,Va as _,Wb as b,Xb as v,ea as z,ja as f,kb as u,mb as m,mc as H,ra as j,rb as C,sa as q,tb as M,ub as h,vb as t,vc as L,wb as e,xb as R,xc as V,yb as U,yc as Y,zb as B,zc as G}from"./chunk-XR6OUCGQ.js";var pt=(n,c)=>c.message;function ut(n,c){if(n&1&&(t(0,"li"),o(1),e()),n&2){let i=c.$implicit;r(),x(" ",i.message," ")}}function gt(n,c){if(n&1&&(t(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title")(3,"mat-icon",17),o(4,"notification_important"),e(),o(5," Notifications "),e()(),t(6,"mat-card-content")(7,"ul"),M(8,ut,2,1,"li",null,pt),e()()()),n&2){let i=g();r(8),h(i.notifications)}}function ft(n,c){n&1&&(t(0,"li"),o(1,"No recent usage."),e())}var rt=(()=>{class n{constructor(){this.packageSummary={inUse:0,inStock:0,empty:0},this.recentUsages=[],this.notifications=[],this.store=z(nt),this.router=z(O),this.isMaybeReco=!1,H(()=>{let i=this.store.usageRecordStoreService.record();i!==null?(this.reco=i,this.isMaybeReco=!0):this.isMaybeReco=!1})}ngOnInit(){}get summary(){return this.store.getPackageSummary()}getRecord(){let i=this.store.usageRecordStoreService.record();i!==null?(this.reco=i,this.isMaybeReco=!0,console.log("record:",this.reco)):this.isMaybeReco=!1}onRegisterUsage(){this.router.navigate(["/storage/products/register/use"])}onAddNewProduct(){this.router.navigate(["/storage/products/add"])}goToStorageList(){this.router.navigate(["/storage/products"])}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=f({type:n,selectors:[["app-dashboard"]],standalone:!0,features:[b],decls:47,vars:8,consts:[[1,"dashboard-container"],[1,"dashboard-card","notifications-card"],[1,"quick-actions"],[1,"button-container"],["mat-flat-button","","color","primary",1,"save-button",3,"click"],[1,"secondary-actions"],["mat-stroked-button","",1,"action-button",3,"click"],[1,"dashboard-card","summary-card"],[1,"summary-content"],[1,"summary-item"],[1,"summary-value","in-use"],[1,"summary-label"],[1,"summary-value","in-stock"],[1,"summary-value","empty"],[1,"dashboard-card","recent-usage-card"],[1,"usage-list"],[4,"ngIf"],["color","warn",1,"notification-icon"]],template:function(s,a){s&1&&(t(0,"div",0),u(1,gt,10,0,"mat-card",1),t(2,"div",2)(3,"div",3)(4,"button",4),l("click",function(){return a.onRegisterUsage()}),t(5,"mat-icon"),o(6,"add_shopping_cart"),e(),o(7," Register Product Usage "),e()(),t(8,"div",5)(9,"button",6),l("click",function(){return a.onAddNewProduct()}),t(10,"mat-icon"),o(11,"add_box"),e(),o(12," Add New "),e(),t(13,"button",6),l("click",function(){return a.goToStorageList()}),t(14,"mat-icon"),o(15,"list"),e(),o(16," Products "),e()()(),t(17,"mat-card",7)(18,"mat-card-header")(19,"mat-card-title"),o(20,"Package Summary"),e()(),t(21,"mat-card-content",8)(22,"div",9)(23,"span",10),o(24),e(),t(25,"span",11),o(26,"In Use"),e()(),t(27,"div",9)(28,"span",12),o(29),e(),t(30,"span",11),o(31,"In Stock"),e()(),t(32,"div",9)(33,"span",13),o(34),e(),t(35,"span",11),o(36,"Empty"),e()()()(),t(37,"mat-card",14)(38,"mat-card-header")(39,"mat-card-title"),o(40,"Recent Usage"),e()(),t(41,"mat-card-content")(42,"ul",15)(43,"li")(44,"span"),o(45),e()(),u(46,ft,2,0,"li",16),e()()()()),s&2&&(r(),C(1,a.notifications.length>0?1:-1),r(23),p(a.summary.inUse),r(5),p(a.summary.inStock),r(5),p(a.summary.empty),r(11),$("",a.reco==null?null:a.reco.productName," (",a.reco==null?null:a.reco.quantityUsed," ",a.reco==null?null:a.reco.unitOfMeasure,"))"),r(),m("ngIf",!a.isMaybeReco))},dependencies:[P,V,D,F,I,Z,T,k,S,E,w,y],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f0f2f5;font-family:Inter,sans-serif;overflow:hidden}.app-header[_ngcontent-%COMP%]{height:56px;box-shadow:0 2px 4px #0000001a;z-index:10}.app-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.dashboard-container[_ngcontent-%COMP%]{flex-grow:1;padding:16px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:flex;flex-direction:column;gap:16px}.dashboard-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 8px #0000001a;padding:16px;background-color:#fff}.dashboard-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:12px}.dashboard-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font-size:1.2em;font-weight:600;display:flex;align-items:center}.dashboard-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{margin-right:8px;color:#f44336}.dashboard-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{font-size:.9em;color:#555}.notifications-card[_ngcontent-%COMP%]{border:1px solid #ffb74d;background-color:#fff3e0}.notifications-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.notifications-card[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:4px;color:#d32f2f}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]{display:flex;justify-content:space-around;text-align:center}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]{display:flex;flex-direction:column}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-value[_ngcontent-%COMP%]{font-size:1.8em;font-weight:700;margin-bottom:4px}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item[_ngcontent-%COMP%]   .summary-label[_ngcontent-%COMP%]{font-size:.8em;color:#777}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.in-use[_ngcontent-%COMP%]{color:#ff9800}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.in-stock[_ngcontent-%COMP%]{color:#4caf50}.summary-card[_ngcontent-%COMP%]   .summary-content[_ngcontent-%COMP%]   .summary-item.empty[_ngcontent-%COMP%]{color:#9e9e9e}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:8px}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{margin-bottom:0}.recent-usage-card[_ngcontent-%COMP%]   .usage-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .usage-icon[_ngcontent-%COMP%]{font-size:1em;margin-right:8px;color:#999}.quick-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:16px}.quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{width:100%;height:60px;font-size:1.1em;font-weight:500;border-radius:10px;box-shadow:0 3px 6px #00000026}.quick-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.quick-actions[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]{background-color:#009688;color:#333;box-shadow:0 4px 8px #00000026}.quick-actions[_ngcontent-%COMP%]   .primary-action[_ngcontent-%COMP%]:active{transform:translateY(2px);box-shadow:0 2px 4px #0000001a}.quick-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]{display:flex;gap:16px}.quick-actions[_ngcontent-%COMP%]   .secondary-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex:1;height:50px;font-size:1em;border:1px solid #bdbdbd;background-color:#fff;color:#333;box-shadow:0 2px 4px #0000001a}.bottom-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:56px;background-color:#fff;border-top:1px solid #e0e0e0;box-shadow:0 -2px 4px #0000001a;position:sticky;bottom:0;width:100%;z-index:10}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;font-size:.7em;color:#777;padding:0;min-width:unset;flex:1}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:1.5em;height:1.5em;width:1.5em;margin-bottom:4px}.bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:hover, .bottom-nav[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]:focus{background-color:transparent}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]{color:#673ab7}.bottom-nav[_ngcontent-%COMP%]   .nav-item.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#673ab7}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding-top:20px}.button-container[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:100%;max-width:320px;height:56px;font-size:1.2em;font-weight:600;border-radius:8px;letter-spacing:1px;text-transform:uppercase;transition:transform .1s ease-out,box-shadow .1s ease-out;box-shadow:0 4px #512da8}.button-container[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:not([disabled]):active{transform:translateY(2px);box-shadow:0 2px #512da8}.button-container[_ngcontent-%COMP%]   .save-button[disabled][_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed;box-shadow:none;transform:none}"]})}}return n})();var _t=(n,c)=>c.name,N=n=>({active:n});function Ct(n,c){n&1&&(t(0,"div",9)(1,"p"),o(2,"No favorites saved yet. Add products to favorites to see them here."),e()())}function Mt(n,c){if(n&1){let i=A();t(0,"mat-card",11),l("click",function(){let a=j(i).$implicit,d=g(2);return q(d.goToDetail(a.id))}),t(1,"mat-card-title"),o(2),e(),t(3,"mat-card-content")(4,"p")(5,"strong"),o(6,"Active Ingredient:"),e(),o(7),e()()()}if(n&2){let i=c.$implicit;r(2),p(i.name),r(5),x(" ",i.activeIngredients,"")}}function ht(n,c){if(n&1&&(t(0,"section"),u(1,Ct,3,0,"div",9),M(2,Mt,8,2,"mat-card",10,_t),e()),n&2){let i=g();r(),C(1,i.favorites.length===0?1:-1),r(),h(i.favorites)}}function xt(n,c){n&1&&(t(0,"section"),R(1,"app-formulations-list"),e())}function bt(n,c){n&1&&(t(0,"section"),R(1,"app-dashboard"),e())}var Jt=(()=>{class n{constructor(i,s,a){this.favService=i,this.router=s,this.navegateService=a,this.favorites=[],this.title="My Products",this.currentStep="favorites",this.pestData={id:0,name:""},this.id=0,this.getData()}ngOnInit(){this.favorites=this.favService.getFavorites()}goToDetail(i){this.navegateService.goToDetail("product",i,"favorites")}goHome(){this.router.navigate(["/home"])}getData(){this.pestData=this.navegateService.getData(this.router),this.id=this.pestData.id,this.checkCcurrentStep(this.pestData.name)}checkCcurrentStep(i){i!=""?this.currentStep=i==="storage"?"storage":i==="formulations"?"formulations":"favorites":this.currentStep="favorites",this.setStep(this.currentStep)}setStep(i){switch(this.currentStep=i,i){case"favorites":this.title="My Products";break;case"formulations":this.title="Formulations";break;case"storage":this.title="Storage";break}}static{this.\u0275fac=function(s){return new(s||n)(_(ot),_(O),_(it))}}static{this.\u0275cmp=f({type:n,selectors:[["app-favorites"]],standalone:!0,features:[b],decls:27,vars:14,consts:[["color","primary",1,"main-toolbar","mobile-toolbar"],["mat-icon-button","","aria-label","Back",3,"click"],[1,"mat-headline","section-title"],[1,"step-nav","mobile-toolbar"],["mat-button","",3,"click","ngClass"],[1,"step-label"],[1,"section-container"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"empty"],[1,"clickable-card"],[1,"clickable-card",3,"click"]],template:function(s,a){s&1&&(t(0,"mat-toolbar",0)(1,"button",1),l("click",function(){return a.goHome()}),t(2,"mat-icon"),o(3,"arrow_back"),e()(),t(4,"h2",2),o(5),e()(),t(6,"nav",3)(7,"button",4),l("click",function(){return a.setStep("favorites")}),t(8,"mat-icon"),o(9,"star"),e(),t(10,"span",5),o(11,"Favorites"),e()(),t(12,"button",4),l("click",function(){return a.setStep("formulations")}),t(13,"mat-icon"),o(14,"science"),e(),t(15,"span",5),o(16,"Formulations"),e()(),t(17,"button",4),l("click",function(){return a.setStep("storage")}),t(18,"mat-icon"),o(19,"inventory_2"),e(),t(20,"span",5),o(21,"Storage"),e()()(),t(22,"main",6),U(23,7),u(24,ht,4,1,"section",8)(25,xt,2,0,"section",8)(26,bt,2,0,"section",8),B(),e()),s&2&&(r(5),p(a.title),r(2),m("ngClass",v(8,N,a.currentStep==="favorites")),r(5),m("ngClass",v(10,N,a.currentStep==="formulations")),r(5),m("ngClass",v(12,N,a.currentStep==="storage")),r(6),m("ngSwitch",a.currentStep),r(),m("ngSwitchCase","favorites"),r(),m("ngSwitchCase","formulations"),r(),m("ngSwitchCase","storage"))},dependencies:[P,L,Y,G,J,K,y,Q,k,S,W,X,E,w,D,F,I,T,tt,at,et,rt],styles:[".main-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:0 12px;height:56px;color:#fff;position:sticky;top:0;z-index:10}.toolbar-title[_ngcontent-%COMP%]{font-weight:600;margin-left:16px;font-size:18px}.section-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500;margin:20px 0 12px;text-align:center}.step-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#f5f5f5;padding:6px 0;position:sticky;top:56px;z-index:9;border-bottom:1px solid #ddd}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;align-items:center;text-transform:none;font-size:12px;color:#555}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#04519f}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2c79c5}.section-container[_ngcontent-%COMP%]{padding:16px;min-height:calc(100vh - 112px);background-color:#fafafa}.clickable-card[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;border-radius:12px;box-shadow:0 2px 8px #00000014}.empty[_ngcontent-%COMP%]{text-align:center;color:#777;margin-top:2rem;font-style:italic}"]})}}return n})();export{Jt as FavoritesComponent};
