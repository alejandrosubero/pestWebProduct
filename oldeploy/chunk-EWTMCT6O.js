import{a as ne,b as ie,c as oe,d as ae,e as re,f as le,g as ce,h as pe,i as me}from"./chunk-NSMUC2OO.js";import{a as se,b as de}from"./chunk-XWBJMKGU.js";import"./chunk-63ODRGR3.js";import{a as J,b as K,c as X,d as Y,e as ee,f as te}from"./chunk-6MM2FVXB.js";import{a as Z}from"./chunk-5P6Y6CQA.js";import"./chunk-A7BTVUWE.js";import{a as W,d as V}from"./chunk-MI5QW3PR.js";import"./chunk-VO7TRL3V.js";import{a as j,g as B,h as H,k as L}from"./chunk-CSJ4JZTP.js";import"./chunk-CARY4E7O.js";import{a as G}from"./chunk-HRJFWO55.js";import{d as U}from"./chunk-O5IQ3J6M.js";import"./chunk-WJLPHVGO.js";import{s as A,t as R}from"./chunk-NRZARL4N.js";import{fa as q,i as N,la as $,ma as Q}from"./chunk-R452VUEZ.js";import{Ac as F,Bb as E,Eb as P,Gb as s,Gc as z,Ob as l,Pb as u,Qb as f,Tb as M,Ua as a,Ub as v,Va as g,Vb as O,Xb as k,Yb as I,Zb as T,ja as w,kb as m,mb as p,ob as S,ra as b,sa as y,vb as r,wb as o,xb as C,yb as x,zb as h,zc as D}from"./chunk-NT2J2JTX.js";var ue=()=>({}),fe=t=>[t];function _e(t,c){if(t&1&&(r(0,"mat-option",9),l(1),o()),t&2){let e=c.$implicit;p("value",e),a(),u(e.title)}}function ge(t,c){if(t&1&&(r(0,"mat-option",9),l(1),o()),t&2){let e=c.$implicit;p("value",e),a(),u(e.title)}}function Ce(t,c){if(t&1&&(r(0,"div",14)(1,"mat-icon",15),l(2,"warning"),o(),r(3,"strong"),l(4),o(),l(5," differences were found between the products. "),o()),t&2){let e=s(2);a(4),u(e.countDifferences())}}function xe(t,c){t&1&&(r(0,"span",21),l(1," Different "),o())}function he(t,c){if(t&1&&(r(0,"th",25),l(1),o()),t&2){let e=s().$implicit;a(),f(" ",e.title," ")}}function Pe(t,c){if(t&1&&(r(0,"td",26),l(1),o()),t&2){let e=s().$implicit,n=s().$implicit,i=s(2);S("highlight-cell",i.quickCompare&&i.isDifferent(n)),a(),f(" ",e[n]||"N/A"," ")}}function Me(t,c){if(t&1&&(x(0,22),m(1,he,2,1,"th",23)(2,Pe,2,3,"td",24),h()),t&2){let e=c.$implicit,n=c.index;p("matColumnDef","col-"+e.id+"-"+n)}}function ve(t,c){t&1&&C(0,"tr",27)}function Oe(t,c){if(t&1&&(r(0,"mat-expansion-panel",16)(1,"mat-expansion-panel-header")(2,"mat-panel-title"),m(3,xe,2,0,"span",17),o(),r(4,"mat-panel-description"),l(5),o()(),r(6,"table",18),m(7,Me,3,1,"ng-container",19)(8,ve,1,0,"tr",20),o()()),t&2){let e=c.$implicit,n=s(2);p("hidden",n.quickCompare&&!n.isDifferent(e)),a(3),p("ngIf",n.quickCompare&&n.isDifferent(e)),a(2),f(" ",n.formatFieldName(e)," "),a(),p("dataSource",T(7,fe,I(6,ue))),a(),p("ngForOf",n.nonNullSelectedProducts),a(),p("matRowDefColumns",n.displayedColumns)}}function we(t,c){if(t&1){let e=E();x(0),r(1,"div",10)(2,"button",11),P("click",function(){b(e);let i=s();return y(i.toggleQuickCompare())}),r(3,"mat-icon"),l(4),o(),l(5),o()(),m(6,Ce,6,1,"div",12),r(7,"mat-accordion"),m(8,Oe,9,9,"mat-expansion-panel",13),o(),h()}if(t&2){let e=s();a(4),u(e.quickCompare?"list":"rule"),a(),f(" ",e.quickCompare?"Show All":"Quick Compare"," "),a(),p("ngIf",e.quickCompare),a(2),p("ngForOf",e.fields)}}var Ze=(()=>{class t{constructor(e,n,i){this.technicalProductService=e,this.navegateService=n,this.router=i,this.products=[],this.allProducts=[],this.quickCompare=!1,this.selectedProducts=[null,null],this.title="Comparator Technical Notes",this.fields=["productOverview","activeIngredients","howItWorks","spectrumOfControl","applicationRates","applicationTips","Advantages","safetyEnvironmentalNotes","physicalChemicalProperties"],this.getAllProducts()}getAllProducts(){let e=this.technicalProductService.getAllTechnicalProducts();if(e){let n=e.sort((i,_)=>i.title.localeCompare(_.title));this.allProducts=n,this.products=this.allProducts}}ngOnInit(){}selectProduct(e){this.selectedProducts.includes(e)?this.selectedProducts=this.selectedProducts.filter(n=>n!==e):this.selectedProducts.length<2&&this.selectedProducts.push(e)}toggleQuickCompare(){this.quickCompare=!this.quickCompare}isDifferent(e){if(this.selectedProducts.length!==2)return!1;let n=this.selectedProducts[0]?.[e]||"",i=this.selectedProducts[1]?.[e]||"";return n!==i}countDifferences(){return this.fields.filter(e=>this.isDifferent(e)).length}get displayedColumns(){return this.nonNullSelectedProducts.map((e,n)=>"col-"+e.id+"-"+n)}get nonNullSelectedProducts(){return this.selectedProducts.filter(e=>e!==null)}formatFieldName(e){return e.replace(/([A-Z])/g," $1").replace(/^./,n=>n.toUpperCase())}back(){this.router.navigate(["/home"])}static{this.\u0275fac=function(n){return new(n||t)(g(Z),g(G),g(N))}}static{this.\u0275cmp=w({type:t,selectors:[["app-compare-products"]],standalone:!0,features:[k],decls:19,vars:6,consts:[["color","primary",1,"toolbar","mobile-toolbar"],[3,"click"],[1,"mat-headline","section-title"],[1,"comparison-container"],[1,"product-selectors"],["appearance","fill"],[3,"valueChange","value"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],[1,"mode-toggle"],["mat-raised-button","","color","primary",3,"click"],["class","differences-counter",4,"ngIf"],[3,"hidden",4,"ngFor","ngForOf"],[1,"differences-counter"],["color","warn"],[3,"hidden"],["class","highlight",4,"ngIf"],["mat-table","",1,"comparison-table",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"highlight"],[3,"matColumnDef"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"highlight-cell",4,"matCellDef"],["mat-header-cell",""],["mat-cell",""],["mat-row",""]],template:function(n,i){n&1&&(r(0,"mat-toolbar",0)(1,"mat-icon",1),P("click",function(){return i.back()}),l(2,"arrow_back"),o(),C(3,"span"),r(4,"h2",2),l(5),o()(),r(6,"div",3)(7,"div",4)(8,"mat-form-field",5)(9,"mat-label"),l(10,"Product 1"),o(),r(11,"mat-select",6),O("valueChange",function(d){return v(i.selectedProducts[0],d)||(i.selectedProducts[0]=d),d}),m(12,_e,2,2,"mat-option",7),o()(),r(13,"mat-form-field",5)(14,"mat-label"),l(15,"Product 2"),o(),r(16,"mat-select",6),O("valueChange",function(d){return v(i.selectedProducts[1],d)||(i.selectedProducts[1]=d),d}),m(17,ge,2,2,"mat-option",7),o()()(),m(18,we,9,4,"ng-container",8),o()),n&2&&(a(5),u(i.title),a(6),M("value",i.selectedProducts[0]),a(),p("ngForOf",i.products),a(4),M("value",i.selectedProducts[1]),a(),p("ngForOf",i.products),a(),p("ngIf",i.selectedProducts.length===2&&i.selectedProducts[0]&&i.selectedProducts[1]))},dependencies:[z,D,F,V,W,te,ee,J,K,Y,X,me,ne,oe,ae,ie,ce,re,le,pe,Q,$,U,H,B,j,de,se,q,L,R,A],styles:['@charset "UTF-8";.comparison-container[_ngcontent-%COMP%]{font-size:12px;padding:8px;overflow-x:auto}.product-selectors-wrapper[_ngcontent-%COMP%]{overflow-x:auto}.product-selectors[_ngcontent-%COMP%]{display:flex;flex-direction:row;gap:8px;min-width:280px;margin-bottom:12px}.product-selectors[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1 1 0;min-width:140px}@media (max-width: 320px){.product-selectors[_ngcontent-%COMP%]{gap:4px}.product-selectors[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:120px}}.mode-toggle[_ngcontent-%COMP%]{text-align:center;margin-bottom:10px}.differences-counter[_ngcontent-%COMP%]{text-align:center;margin:8px 0;font-size:13px;display:flex;justify-content:center;align-items:center;gap:6px}.comparison-table[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;border-collapse:collapse}.field-cell[_ngcontent-%COMP%]{font-weight:700;background:var(--mat-table-header-container-background-color, #fafafa)}.highlight[_ngcontent-%COMP%]{color:var(--mat-sys-error, #d32f2f);font-weight:700}.highlight-cell[_ngcontent-%COMP%]{background-color:color-mix(in srgb,var(--mat-sys-primary) 15%,transparent)}.vertical-text[_ngcontent-%COMP%]{writing-mode:vertical-rl;text-orientation:mixed}.comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left;vertical-align:top;padding:.5rem;word-break:break-word}@media (max-width: 400px){.comparison-container[_ngcontent-%COMP%]{padding:4px;font-size:11px}.mode-toggle[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-size:11px;padding:4px 8px}.differences-counter[_ngcontent-%COMP%]{font-size:12px;gap:4px}.comparison-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .comparison-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:13px;padding:.25rem}}mat-accordion[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{font-size:20px}mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700}mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-panel-description[_ngcontent-%COMP%]{font-size:20px;color:#000000b3}mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-content[_ngcontent-%COMP%]{font-size:20px;line-height:1.4;padding:.5rem 1rem}@media (max-width: 400px){mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-panel-title[_ngcontent-%COMP%]{font-size:20px}mat-expansion-panel-header[_ngcontent-%COMP%]   .mat-panel-description[_ngcontent-%COMP%]{font-size:20px}mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-content[_ngcontent-%COMP%]{font-size:20px;padding:.25rem .5rem}}']})}}return t})();export{Ze as CompareProductsComponent};
