import{b as U}from"./chunk-GDM2I6HO.js";import"./chunk-63ODRGR3.js";import{a as Q}from"./chunk-5P6Y6CQA.js";import"./chunk-A7BTVUWE.js";import{a as q,b as G,c as H,f as J}from"./chunk-4HZR6Q6E.js";import"./chunk-VO7TRL3V.js";import{a as j,g as A,j as W,k as R}from"./chunk-CSJ4JZTP.js";import"./chunk-CARY4E7O.js";import{a as X}from"./chunk-HRJFWO55.js";import{d as K}from"./chunk-O5IQ3J6M.js";import"./chunk-WJLPHVGO.js";import{b as N,f as z,i as E,q as F,s as $,t as D}from"./chunk-NRZARL4N.js";import{i as L,la as V,ma as B}from"./chunk-R452VUEZ.js";import{Bb as b,Eb as f,Gb as T,Gc as y,Ob as d,Pb as h,Qb as O,Tb as I,Ua as m,Ub as w,Va as u,Vb as S,Xb as k,ja as C,ra as _,sa as M,tb as P,ub as x,vb as c,wb as a,xb as v}from"./chunk-NT2J2JTX.js";var Y=(s,g)=>g.title;function Z(s,g){if(s&1){let n=b();c(0,"mat-card",8),f("click",function(){let i=_(n).$implicit,o=T();return M(o.goToDetail(i.id))}),c(1,"mat-card-title"),d(2),a(),c(3,"mat-card-content")(4,"p")(5,"strong"),d(6,"Active Ingredient:"),a(),d(7),a()()()}if(s&2){let n=g.$implicit;m(2),h(n.title),m(5),O(" ",n.activeIngredients,"")}}var _t=(()=>{class s{constructor(n,t,i){this.technicalProductService=n,this.navegateService=t,this.router=i,this.filteredProducts=[],this.allProducts=[],this.searchTerm="",this.title="Technical Notes",this.getAllProducts()}getAllProducts(){let n=this.technicalProductService.getAllTechnicalProducts();if(n){let t=n.sort((i,o)=>i.title.localeCompare(o.title));this.allProducts=t,this.allProducts&&(this.filteredProducts=this.allProducts)}}buscarCoincidencias2(){let n=this.searchTerm.trim().toLowerCase(),t=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),i=e=>{let r=t(e.title),l=t(e.activeIngredients),p=t(e.spectrumOfControl);return`${r} ${l} ${p}`},o=e=>{let r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return new RegExp(`\\b${r}\\b`,"i")};if(n.startsWith("*")){let e=t(n.slice(1).trim());e.length>=2?this.filteredProducts=this.allProducts.filter(r=>t(r.activeIngredients).includes(e)):this.filteredProducts=[]}else{let r=t(n).split(/\s+/).join(" ").trim(),l=o(r);this.filteredProducts=this.allProducts.filter(p=>l.test(i(p)))}}buscarCoincidencias(){let n=this.searchTerm.trim().toLowerCase(),t=e=>e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),i=e=>{let r=t(e.title),l=t(e.activeIngredients),p=t(e.spectrumOfControl);return`${r} ${l} ${p}`};if(n.length<2){this.filteredProducts=[];return}let o=t(n);this.filteredProducts=this.allProducts.filter(e=>{let r=i(e);if(o.startsWith("*")){let l=o.slice(1).trim();return t(e.activeIngredients).includes(l)}return r.includes(o)})}back(){this.router.navigate(["/home"])}goToDetail(n){let t="technical/notes";this.navegateService.goToDetail(t,n,t)}static{this.\u0275fac=function(t){return new(t||s)(u(Q),u(X),u(L))}}static{this.\u0275cmp=C({type:s,selectors:[["app-technical-notes-list"]],standalone:!0,features:[k],decls:14,vars:2,consts:[["color","primary",1,"toolbar","mobile-toolbar"],[3,"click"],[1,"mat-headline","section-title"],[1,"content"],["appearance","fill",1,"search-box"],["matInput","",3,"ngModelChange","input","ngModel"],[1,"results"],[1,"clickable-card"],[1,"clickable-card",3,"click"]],template:function(t,i){t&1&&(c(0,"mat-toolbar",0)(1,"mat-icon",1),f("click",function(){return i.back()}),d(2,"arrow_back"),a(),v(3,"span"),c(4,"h2",2),d(5),a()(),c(6,"div",3)(7,"mat-form-field",4)(8,"mat-label"),d(9,"Search for product or pest"),a(),c(10,"input",5),S("ngModelChange",function(e){return w(i.searchTerm,e)||(i.searchTerm=e),e}),f("input",function(){return i.buscarCoincidencias()}),a()(),c(11,"div",6),P(12,Z,8,2,"mat-card",7,Y),a()()),t&2&&(m(5),h(i.title),m(5),I("ngModel",i.searchTerm),m(2),x(i.filteredProducts))},dependencies:[y,D,$,B,V,R,W,A,j,F,N,z,E,K,U,J,q,H,G],styles:[".container[_ngcontent-%COMP%]{height:100vh}.sidenav[_ngcontent-%COMP%]{width:200px}.content[_ngcontent-%COMP%]{padding:1rem}.content[_ngcontent-%COMP%]   .search-box[_ngcontent-%COMP%]{width:100%;max-width:600px;margin:1rem auto;display:block}.content[_ngcontent-%COMP%]   .results[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;padding:1rem}.footer[_ngcontent-%COMP%]{text-align:center;padding:1rem;background-color:#eee;font-size:.9rem}.clickable-card[_ngcontent-%COMP%]{padding:1rem;cursor:pointer;transition:transform .2s}.clickable-card[_ngcontent-%COMP%]:hover{transform:scale(1.02)}.mat-icon.star-active[_ngcontent-%COMP%]{color:gold}.main-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;padding:0 12px;height:56px;color:#fff;position:sticky;top:0;z-index:10}.toolbar-title[_ngcontent-%COMP%]{font-weight:600;margin-left:16px;font-size:18px}.section-title[_ngcontent-%COMP%]{font-size:22px;font-weight:500;margin:20px 0 12px;text-align:center}.step-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-around;background-color:#f5f5f5;padding:6px 0;position:sticky;top:56px;z-index:9;border-bottom:1px solid #ddd}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1 1 auto;display:flex;flex-direction:column;align-items:center;text-transform:none;font-size:12px;color:#555}.step-nav[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{color:#04519f}.step-nav[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2c79c5}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}"]})}}return s})();export{_t as TechnicalNotesListComponent};
