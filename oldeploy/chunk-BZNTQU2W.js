import{a as ot}from"./chunk-2WNVL33K.js";import"./chunk-RER757YZ.js";import{b as j,c as q,d as R}from"./chunk-MI5QW3PR.js";import{a as tt,c as et,f as nt}from"./chunk-4HZR6Q6E.js";import{a as U,c as $,d as G,g as H,h as J,j as K,k as X}from"./chunk-CSJ4JZTP.js";import"./chunk-CARY4E7O.js";import{a as at}from"./chunk-HRJFWO55.js";import{b as Q,f as B,i as V,q as A,s as z,t as W}from"./chunk-NRZARL4N.js";import{i as N,la as Y,ma as Z}from"./chunk-R452VUEZ.js";import{Ac as T,Bb as P,Eb as d,Gb as p,Gc as D,Ob as i,Pb as m,Qb as k,Rb as w,Tb as S,Ua as r,Ub as I,Vb as E,Xb as L,ea as u,f as h,ja as b,kb as M,mb as g,ra as _,rb as x,sa as C,tb as v,ub as O,vb as e,wb as n,xb as y,yc as F}from"./chunk-NT2J2JTX.js";var it=(o,s)=>s.id;function rt(o,s){if(o&1){let t=P();e(0,"button",11),d("click",function(){_(t);let a=p();return C(a.clearSearch())}),e(1,"mat-icon"),i(2,"close"),n()()}}function ct(o,s){o&1&&(e(0,"div"),i(1,"\u{1F504} Cargando productos..."),n())}function st(o,s){if(o&1&&(e(0,"div",8),i(1),n()),o&2){let t=p();r(),k("\u274C ",t.error,"")}}function lt(o,s){if(o&1){let t=P();e(0,"mat-card",14),d("click",function(){let a=_(t).$implicit,l=p(2);return C(l.onDetail(a.id))}),e(1,"mat-card-content")(2,"div",15)(3,"div",16),i(4),n(),e(5,"div",16),i(6),n(),e(7,"div",17),i(8),n(),e(9,"div",17),i(10),n(),e(11,"div",18)(12,"span",19),i(13),n(),e(14,"span",20),i(15),n()()(),e(16,"mat-icon",21),i(17,"chevron_right"),n()()()}if(o&2){let t=s.$implicit,c=p(2);r(4),m(t.name),r(2),m(t.id),r(2),w(" ",t.package.currentQuantity," / ",t.package.initialQuantity," "),r(2),m(t.package.unitOfMeasure),r(2),g("ngClass",c.getStatusClass(t.package.status)),r(),m(t.package.status),r(2),k("Location: ",t.package.location.locationArea,"")}}function dt(o,s){if(o&1&&(e(0,"div")(1,"div",12),v(2,lt,18,8,"mat-card",13,it),n()()),o&2){let t=p();r(2),O(t.products)}}var Tt=(()=>{class o{constructor(){this.router=u(N),this.navegateService=u(at),this.store=u(ot),this.searchQuery=""}ngOnInit(){}get products(){return this.store.filteredProducts().sort((a,l)=>a.name.localeCompare(l.name))}get loading(){return this.store.loading()}get error(){return this.store.error()}applyFilter(){this.store.setFilter(this.searchQuery)}clearSearch(){this.searchQuery="",this.applyFilter()}deleteProduct(t){return h(this,null,function*(){confirm("\xBFEliminar este producto?")&&(yield this.store.delete(t))})}statusClass(t){return t.replace(/\s/g,"")}getStatusClass(t){switch(t){case"In Stock":return"status-in-stock";case"In Use":return"status-in-use";case"Empty":return"status-empty";default:return""}}onDetail(t){t!==void 0?this.navegateService.goToDetail("storage/products/detail",t,""):console.warn("Attempting to browse in detail with an undefined ID.")}onBackClick(){this.navegateService.goFavorites("storage",1)}onAddNew(){this.router.navigate(["/storage/products/add"])}static{this.\u0275fac=function(c){return new(c||o)}}static{this.\u0275cmp=b({type:o,selectors:[["app-product-list"]],standalone:!0,features:[L],decls:21,vars:5,consts:[["color","primary",1,"mobile-toolbar"],["mat-icon-button","",3,"click"],[1,"spacer"],[1,"package-list-container"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Nombre, ubicaci\xF3n, estado...",3,"ngModelChange","input","ngModel"],["matPrefix",""],["matSuffix","","mat-icon-button","",3,"click",4,"ngIf"],[1,"error"],[4,"ngIf"],["mat-fab","","color","primary","aria-label","Add New",1,"fab-button",3,"click"],["matSuffix","","mat-icon-button","",3,"click"],[1,"package-cards-wrapper"],[1,"package-card"],[1,"package-card",3,"click"],[1,"package-info"],[1,"product-name"],[1,"quantity"],[1,"status-location"],[1,"status-badge",3,"ngClass"],[1,"location"],[1,"arrow-icon"]],template:function(c,a){c&1&&(e(0,"mat-toolbar",0)(1,"button",1),d("click",function(){return a.onBackClick()}),e(2,"mat-icon"),i(3,"arrow_back"),n()(),e(4,"span"),i(5,"Inventory Packages"),n(),y(6,"span",2),n(),e(7,"div",3)(8,"mat-form-field",4)(9,"mat-label"),i(10,"Buscar producto"),n(),e(11,"input",5),E("ngModelChange",function(f){return I(a.searchQuery,f)||(a.searchQuery=f),f}),d("input",function(){return a.applyFilter()}),n(),e(12,"mat-icon",6),i(13,"search"),n(),M(14,rt,3,0,"button",7),n(),M(15,ct,2,0,"div")(16,st,2,1,"div",8)(17,dt,4,0,"div",9),n(),e(18,"button",10),d("click",function(){return a.onAddNew()}),e(19,"mat-icon"),i(20,"add"),n()()),c&2&&(r(11),S("ngModel",a.searchQuery),r(3),g("ngIf",a.searchQuery),r(),x(15,a.loading?15:-1),r(),x(16,a.error?16:-1),r(),g("ngIf",!a.loading&&!a.error))},dependencies:[D,F,T,W,z,Z,Y,R,q,j,X,K,H,U,$,G,J,nt,tt,et,A,Q,B,V],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#f0f2f5;font-family:Inter,sans-serif;overflow:hidden}.app-header[_ngcontent-%COMP%]{height:56px;box-shadow:0 2px 4px #0000001a;z-index:10}.app-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.package-list-container[_ngcontent-%COMP%]{flex-grow:1;padding:16px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:flex;flex-direction:column;gap:16px}.search-field[_ngcontent-%COMP%]{width:100%;margin-bottom:8px;border-radius:8px;background-color:#fff}.search-field[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]{border-radius:8px}.package-cards-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.package-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 4px 8px #0000001a;background-color:#fff;cursor:pointer;transition:transform .2s ease-in-out}.package-card[_ngcontent-%COMP%]:active{transform:scale(.98)}.package-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:16px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]{flex-grow:1;margin-right:16px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:1.1em;font-weight:600;color:#333;margin-bottom:4px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{font-size:.9em;color:#555;margin-bottom:4px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:.8em;color:#777}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge[_ngcontent-%COMP%]{padding:4px 8px;border-radius:8px;font-weight:500;margin-right:8px}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge.status-in-stock[_ngcontent-%COMP%]{background-color:#e8f5e9;color:#388e3c}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge.status-in-use[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .status-badge.status-empty[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#616161}.package-card[_ngcontent-%COMP%]   .package-info[_ngcontent-%COMP%]   .status-location[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{font-weight:400}.package-card[_ngcontent-%COMP%]   .arrow-icon[_ngcontent-%COMP%]{color:#ccc}.no-results-message[_ngcontent-%COMP%]{text-align:center;color:#777;font-style:italic;margin-top:20px}.error[_ngcontent-%COMP%]{color:red}.fab-button[_ngcontent-%COMP%]{position:fixed;bottom:24px;right:24px;z-index:1000;box-shadow:0 4px 10px #0000004d;transition:transform .2s ease-in-out}.fab-button[_ngcontent-%COMP%]:active{transform:scale(.95)}"]})}}return o})();export{Tt as ProductListComponent};
